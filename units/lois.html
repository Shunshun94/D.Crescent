<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ロイス管理機能動作確認</title>
</head>
<body>
<p>SheetURL<input list="list" id="input" type="text" /> <input id="exec" type="button" value="出力" /></p>
<datalist id="list"></datalist>
<div id="display"></div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://shunshun94.github.io/shared/jquery/com/hiyoko/util/v2/utils.js"></script>
<script src="https://shunshun94.github.io/shared/jquery/com/hiyoko/vampireblood/client.js"></script>
<script src="https://shunshun94.github.io/shared/jquery/com/hiyoko/vampireblood/dx3.js"></script>
<script src="https://shunshun94.github.io/shared/jquery/io/github/shunshun94/trpg/characterSheetsMasashige/client.js"></script>
<script src="https://shunshun94.github.io/shared/jquery/io/github/shunshun94/trpg/characterSheetsMasashige/dx3.js"></script>
<script src="https://shunshun94.github.io/shared/jquery/io/github/shunshun94/trpg/clientSelector.js"></script>
<script src="https://shunshun94.github.io/shared/jquery/com/hiyoko/components/v1/ApplicationBase.js"></script>
<script src="https://shunshun94.github.io/shared/jquery/com/hiyoko/components/v1/TableBase.js"></script>
<script src="../main/lois/loisList.js"></script>
<script src="../main/lois/lois.js"></script>
<script>
com.hiyoko.util.forEachMap(JSON.parse(localStorage.getItem('com-hiyoko-sample-dx3sheetparse-index') || '{}'), (v, k) => {
	$('#list').append(`<option value="${k}">${v}</option>`);
});

$('#exec').click((e) => {
	io.github.shunshun94.trpg.selectClient($('input').val()).DX3.getSheet($('input').val()).done((instance) => {
		new io.github.shunshun94.HiyokoCross.Lois($('#display'), instance);
		com.hiyoko.util.updateLocalStorage('com-hiyoko-sample-dx3sheetparse-index', $('input').val(), instance.name);
	});
});
</script>

</body>
</html>